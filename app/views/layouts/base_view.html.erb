<!DOCTYPE html>
<html>
  <head>
    <title>VoiceBloom - <%= yield(:title) || "トレーニング" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
  </head>
  <body class="bg-gray-50">
    <%# --- このレイアウト専用のヘッダー --- %>
    <header class="bg-white shadow-sm sticky top-0 z-10">
      <div class="container mx-auto px-4 h-16 flex items-center justify-between max-w-lg">
        <%# 戻るボタン (JavaScriptで前のページに戻る) %>
        <a href="javascript:history.back()" class="text-gray-600 p-2">
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
          </svg>
        </a>
        
        <%# 各ページで設定される動的なタイトル %>
        <h1 class="text-lg font-bold text-gray-800">
          <%= yield :header_title %>
        </h1>
        
        <%# ユーザーアイコン %>
        <%= link_to '#', class: "text-gray-500 p-2" do %>
          <svg class="h-8 w-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
        <% end %>
      </div>
    </header>

    <%# --- 各ページのメインコンテンツがここに表示される --- %>
    <main>
      <%= yield %>
    </main>

    <%# 下部ナビゲーションのパーシャルを呼び出す %>
    <%= render "layouts/bottom_navigation" %>
  </body>
</html>