<div class="container mx-auto px-4 py-6 md:py-8 max-w-lg">

  <% if user_signed_in? %>
    <%# --- ログイン後の挨拶 --- %>
    <h1 class="text-2xl font-bold text-gray-800 mb-6">
      <%= "こんにちは、#{current_user.name}さん！" %>
    </h1>

    <%# --- 各機能カードのコンテナ --- %>
    <div class="space-y-6">

      <%# --- 声のコンディション カード --- %>
      <div class="bg-white rounded-xl shadow-md p-6">
        <div class="flex items-center mb-4">
          <div class="p-2 bg-purple-100 rounded-full mr-3">
            <%# Heroicon: user-circle %>
            <svg class="h-6 w-6 text-purple-600" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <h2 class="text-xl font-semibold text-gray-700">声のコンディション</h2>
        </div>

        <%# 将来的に最終チェック日時などをここに表示 %>
        <p class="text-center text-gray-600 mb-4">今日のあなたの声の状態を記録・分析しましょう。</p>

        <%= link_to '今日の声をチェックする',
                    new_voice_condition_log_path,
                    class: "block w-full text-center px-6 py-3 text-base font-semibold text-white bg-purple-600 rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition duration-150 ease-in-out" %>
      </div>


      <%# ★★★ ここからが今回の追加部分 ★★★ %>
      <%# --- 発声練習 カード --- %>
      <div class="bg-white rounded-xl shadow-md p-6">
        <div class="flex items-center mb-4">
          <div class="p-2 bg-purple-100 rounded-full mr-3">
            <%# Heroicon: microphone %>
            <svg class="h-6 w-6 text-purple-600" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M8.25 4.5a3.75 3.75 0 117.5 0v8.25a3.75 3.75 0 11-7.5 0V4.5z" />
              <path d="M6 10.5a.75.75 0 01.75.75v1.5a5.25 5.25 0 1010.5 0v-1.5a.75.75 0 011.5 0v1.5a6.75 6.75 0 11-13.5 0v-1.5a.75.75 0 01.75-.75z" />
            </svg>
          </div>
          <h2 class="text-xl font-semibold text-gray-700">発声練習</h2>
        </div>

        <%# 将来的に前回のスコアなどをここに表示 %>
        <p class="text-center text-gray-600 mb-4">様々なお題で発声練習を行い、あなたの声を開花させていきましょう！</p>

        <%= button_to '発声練習を始める',
                      practice_session_logs_path,
                      method: :post,
                      class: "w-full text-center px-6 py-3 text-base font-semibold text-white bg-purple-600 rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition duration-150 ease-in-out" %>
      </div>
      <%# ★★★ ここまでが今回の追加部分 ★★★ %>

    </div>

  <% else %>
    <%# --- ログインしていないユーザー向けの表示 --- %>
    <div class="text-center mt-12">
      <h1 class="text-4xl font-bold text-purple-700 tracking-tight sm:text-5xl">
        VoiceBloom へようこそ！
      </h1>
      <p class="mt-4 text-lg leading-8 text-gray-600">
        あなたの声を開花させ、自信に満ちたコミュニケーションを。
      </p>
      <div class="mt-10 flex items-center justify-center gap-x-6">
        <%= link_to "ログイン", new_user_session_path, class: "rounded-md bg-purple-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-purple-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-600" %>
        <%= link_to "新規登録", new_user_registration_path, class: "text-sm font-semibold leading-6 text-gray-900" %>
      </div>
    </div>
  <% end %>

</div>